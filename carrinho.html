<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="imagex/png" href="./img/iconlunar.ico">
    <link rel="stylesheet" href="./css/carrinho.css">
    <title>LunarGames</title>
</head>
<body>
    <header>
        <div class="logo">
            <a href="index.html">
                <img src="./img/logo6.png" alt="Logo da Loja" width="200px" height="200px">
            </a>
        </div>
        
      
    </header>    

    <nav class="menu">
        <ul>
            <li><a href="consoles.html">CONSOLES</a></li>
            <li><a href="ps.html">JOGOS PS</a></li>
            <li><a href="xbox.html">JOGOS XBOX</a></li>
            <li><a href="carrinho.html">CARRINHO</a></li>
            <li><a href="login.html">PERFIL</a></li>
        </ul>
    </nav>

    <div class="carrinho">
    <h1>Seu Carrinho:</h1>

    <div class="position1"><ul id="lista-carrinho"></ul></div>

    <div class="position">
    <p id="total">Total: R$ 0.00</p></div>

    <div class="position2"><a href="finalizar.html">Finalizar Compra</a></div>
</div>

    <footer>
        <div class="midias">
            <ion-icon name="logo-instagram"></ion-icon>
            <ion-icon name="logo-whatsapp"></ion-icon>
            <ion-icon name="mail-outline"></ion-icon>
            <ion-icon name="call-outline"></ion-icon>
        </div>
        <ul class="links">
            <li><a href="index.html">Página Inicial</a></li>
            <li><a href="sobre.html">Sobre</a></li>
            <li><a href="novidades.html">Novidades</a></li>
            <li><a href="contato.html">Contato</a></li>
        </ul>
        <p class="copyright"> © 2023 LunarGames - Todos os direitos reservados</p>
    </footer>

    <script src="./js/script.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script>
   function exibirCarrinho() {
            var carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            var listaCarrinho = document.getElementById('lista-carrinho');
            var totalElemento = document.getElementById('total');

            listaCarrinho.innerHTML = '';
            var total = 0;

            carrinho.forEach(function (item, index) {
                var li = document.createElement('li');
                li.innerHTML = `
                    <span>${item.nome} - R$ ${item.preco.toFixed(2)}</span>
                    <span class="remover" onclick="removerDoCarrinho(${index})">Remover</span>
                `;
                listaCarrinho.appendChild(li);
                total += item.preco;
            });

            totalElemento.textContent = `Total: R$ ${total.toFixed(2)}`;
        }

        function removerDoCarrinho(index) {
            var carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            carrinho.splice(index, 1);
            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            exibirCarrinho();
        }

        exibirCarrinho();
</script>
</body>
</html>